version: 0.1

env: 
phases:
  pre_build:
    commands:
      - echo Build started on `date`
      - echo "Creating application-aws.properties file"
      - echo "bucket name is $BUCKET_NAME "
  build:
    commands:
      - echo Build started on `date`
      - mvn clean package
      - cp target/SpringDataTest-0.0.1-SNAPSHOT.jar codedeploy 
      - ls -lrt codedeploy
      - cd codedeploy && zip -r ../info.zip * 
      - ls -lrt info.zip
      
artifacts:
  files:
    - info.zip
  discard-paths: yes

